#
# Test WMS
#
# REQUIRES: INPUT=GDAL OUTPUT=PNG SUPPORTS=WMS
# 
# RUN_PARMS: wms_uvraster_lonwrap180_whole_world.png [MAPSERV] QUERY_STRING="map=[MAPFILE]&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&BBOX=-90,-180,90,180&CRS=EPSG:4326&WIDTH=744&HEIGHT=372&LAYERS=test&STYLES=&FORMAT=image/png&DPI=120&MAP_RESOLUTION=120&TRANSPARENT=TRUE" > [RESULT_DEMIME]
#
# RUN_PARMS: wms_uvraster_lonwrap180_west_hemisphere.png [MAPSERV] QUERY_STRING="map=[MAPFILE]&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&BBOX=-90,-180,90,0&CRS=EPSG:4326&WIDTH=372&HEIGHT=372&LAYERS=test&STYLES=&FORMAT=image/png&DPI=120&MAP_RESOLUTION=120&TRANSPARENT=TRUE" > [RESULT_DEMIME]
#
# RUN_PARMS: wms_uvraster_lonwrap180_east_hemisphere.png [MAPSERV] QUERY_STRING="map=[MAPFILE]&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&BBOX=-90,0,90,180&CRS=EPSG:4326&WIDTH=372&HEIGHT=372&LAYERS=test&STYLES=&FORMAT=image/png&DPI=120&MAP_RESOLUTION=120&TRANSPARENT=TRUE" > [RESULT_DEMIME]
#
# RUN_PARMS: wms_uvraster_lonwrap180_accross_hemisphere.png [MAPSERV] QUERY_STRING="map=[MAPFILE]&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&BBOX=-90,-90,90,90&CRS=EPSG:4326&WIDTH=372&HEIGHT=372&LAYERS=test&STYLES=&FORMAT=image/png&DPI=120&MAP_RESOLUTION=120&TRANSPARENT=TRUE" > [RESULT_DEMIME]

MAP
 NAME uvraster_lonwrap
 EXTENT -180 -90 180 90
 MAXSIZE 4096
 SIZE 500 300
 SHAPEPATH ./data

 PROJECTION
  "init=epsg:4326"
 END

 SYMBOL
  NAME "arrow"
  FILLED TRUE
  POINTS
   1.2 0
   1.2 6
   3 6
   0 10
   -3 6
   -1.2 6
   -1.2 0
   1.2 0
  END
 END

 WEB
  METADATA
    "ows_enable_request" "*"
  END
 END

 LAYER
  DATA "uvraster_lonwrap180.tif"
  NAME "test"
  TYPE POINT
  CONNECTIONTYPE uvraster

  EXTENT 0 -80.1 360 89.9

  PROCESSING "BANDS=1,2"
  PROCESSING "UV_SPACING=17"

  PROJECTION
   "proj=longlat"
   "a=6371229"
   "b=6371229"
   "lon_wrap=180"
  END

  CLASS
   STYLE
    SYMBOL "arrow"
    COLOR 255 0 0
    ANGLE [uv_angle]
    SIZE 10
   END
  END

 END
END
